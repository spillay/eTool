<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    	xmlns:p="http://primefaces.org/ui">
<h:head>
     <title>Permit Enquiry</title>
</h:head>
  		
<p:layout style="min-width:400px;min-height:200px;">

<p:layoutUnit position="west" size="100" minSize="40" maxSize="200">West</p:layoutUnit>
<p:layoutUnit position="north" size="100" minSize="40" maxSize="200">North</p:layoutUnit>
<p:layoutUnit position="center" size="100" minSize="40" maxSize="200"><h:body><h:form><p:panel header="Permit Enquiry"><p:panel header="Client">
<p:panelGrid columns="2" cellpadding="4">
<h:outputText value="Identity Number"></h:outputText>
<p:inputMask mask="9-9-9-9-9-9-9-9-9-9-9-9-9" value="#{clientEnquiryBean.client.idno}"></p:inputMask>
<p:growl id="growl" life="2000" />
<p:commandButton value="search" id="ajax" update="growl,PermitTable" actionListener="#{clientEnquiryBean.searchAction}"  styleClass="ui-priority-primary" />

</p:panelGrid>
</p:panel>

<p:dataTable id="PermitTable" var="permit" value="#{clientEnquiryBean.permits}">
<p:column headerText="Permit Number"><h:outputText value="#{permit.permitNo}"/></p:column>
<p:column headerText="Permit Status"><h:outputText value="#{permit.permitstatus.status}"/></p:column>
<p:column headerText="Permit Type"><h:outputText value="#{permit.permittype.name}"/></p:column>
<p:column headerText="Date Issued"><h:outputText value="#{permit.dateIssued}"/></p:column>
<p:column headerText="Date Valid From"><h:outputText value="#{permit.dteValidFrom}"/></p:column>
<p:column headerText="Date Valid To"><h:outputText value="#{permit.dteValidTo}"/></p:column>
</p:dataTable>


</p:panel>
</h:form>
</h:body>
</p:layoutUnit>
</p:layout>

</html>
